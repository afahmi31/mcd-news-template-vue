<script>
export default {
    data() {
        return {
            Elements: [
                { 
                    img: '/images/Sport1.png',
                    kategori: 'Sport',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/Sport2.png',
                    kategori: 'Sport',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/Sport3.png',
                    kategori: 'Sport',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/Anis.jpeg',
                    kategori: 'Business',
                    date: 'Sep.24.2024',
                    title: 'Rp90 trillion Bekasi-Tangerang sea wall project awaits Prabowo s blessing ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                // Tambahkan lebih banyak item untuk testing pagination
                { 
                    img: '/images/Surya.jpeg',
                    kategori: 'Politics',
                    date: 'Sep.24.2024',
                    title: 'NasDem Putusan di Luar Kabinet Prabowo, tapi Bukan Oposisi ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/Anis.jpeg',
                    kategori: 'Politics',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/Jimly.jpeg',
                    kategori: 'Politics',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/PDI.jpeg',
                    kategori: 'Politics',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/Survei Bowo.jpeg',
                    kategori: 'Politics',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/mansur.png',
                    kategori: 'Politics',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/komeng.png',
                    kategori: 'Politics',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/timnas.png',
                    kategori: 'Politics',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/timnas.jpeg',
                    kategori: 'Politics',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/timnas.jpeg',
                    kategori: 'Politics',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/timnas.jpeg',
                    kategori: 'Politics',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/timnas.jpeg',
                    kategori: 'Politics',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/timnas.jpeg',
                    kategori: 'Politics',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
                { 
                    img: '/images/timnas.jpeg',
                    kategori: 'Politics',
                    date: 'Sep.24.2024',
                    title: 'Ada mama di balik medali emas Richie Duta Ricardo ',
                    dest: 'Pebulu tangkis Jawa Tengah Richie Duta Ricardo mengembalikan kok saat bertanding...',
                    showFullText: false
                },
            ],
            currentPage: 1,  // Halaman saat ini
            itemsPerPage: 5  // Jumlah item per halaman
        }
    },
    computed: {
        paginatedElements() {
            const start = (this.currentPage - 1) * this.itemsPerPage;
            const end = start + this.itemsPerPage;
            return this.Elements.slice(start, end);
        },
        totalPages() {
            return Math.ceil(this.Elements.length / this.itemsPerPage);
        }
    },
    methods: {
        toggleText(Element) {
            Element.showFullText = !Element.showFullText;
        },
        changePage(page) {
            if (page >= 1 && page <= this.totalPages) {
                this.currentPage = page;
            }
        }
    }
}
</script>

<template>
    <main class="container mx-auto cursor-all-scroll flex justify-center items-center ">
        <div class="justify-items-center">
            <h1 class="w-[327px] md:w-[666px] lg:w-[777px] text-[14px] md:text-[20px] lg:text-[28px] mt-[48px] text-black font-bold font font-darkerGrotesque mb-[32px] lg:mb-[64px] ml-[20px]">
                Search results: “badminton” found in 6097 documents
            </h1>
            <!-- Tampilkan item sesuai halaman saat ini -->
             <div v-if="Elements" class="border-b my-[14px] pb-[90px]">
                 <div v-for="Element in paginatedElements" :key="Element.title">
                     <div :class="['Element', Element.kategori.toLowerCase(), ' grid justify-items-center md:flex md:gap-[34px]  ']">
                         <div>
                             <img class="w-[285px] md:w-[300px] xl:w-[388px]" :src="Element.img" alt="image">
                         </div>
                         <div class="w-[285px] md:w-[300px] lg:w-[600px]  xl:w-[777px]">
                             <div class="flex justify-between">
                                 <div class="category mt-[12px] ">
                                     <p class=" kategori ml-4   text-[14px] lg:text-[16px] font-bold font-bricolage text-[#002E40]">
                                         {{ Element.kategori }}
                                     </p>
                                 </div>
                                 <p class=" date text-[12px] mt-[12px] text-[#002E40] font-bricolage leading-[24px]">{{ Element.date }}</p>
                             </div>
                             <p class=" title text-[12px] lg:text-[20px] my-[12px] xl:mt-[40px] xl:mb-[21px] font-semibold leading-[130%] text-[#1D1717] font-bricolage">
                                 {{ Element.title }}
                             </p> 
                             
                             <!-- Konten Dest -->
                             <p class=" dest text-[12px] lg:text-[18px] xl:mt-[23px] text-[#8B919E] leading-[13px] md:leading-[20px] xl:leading-[27px]  font-bricolage">
                                 {{ Element.showFullText ? Element.dest : (Element.dest.slice(0, 150) + '...') }}
                             </p>
                             
                             <!-- Tombol Read More -->
                             <button class="text-[#002E40] text-[12px] lg:text-[16px] font-bold underline mt-2" @click="toggleText(Element)">
                                 {{ Element.showFullText ? 'Read Less' : 'Read More' }}
                             </button>
                         </div>
                     </div>
                     <div class="border-b my-[14px]"></div>
                 </div>
             </div>

            <!-- Pagination -->
            <div class="pagination md:flex justify-center mt-8 hidden ">
    <!-- Tombol Previous -->
            <button 
                class="mx-2 px-4 py-2 rounded " 
                @click="changePage(currentPage - 1)" 
                :disabled="currentPage === 1"
                :class="{'cursor-not-allowed opacity-50': currentPage === 1}">
                <
            </button>

    <!-- Tombol Pagination -->
                <button 
                    v-for="page in totalPages" 
                    :key="page" 
                    @click="changePage(page)" 
                    class="mx-[12px] px-4 py-2 rounded " 
                    :class="{'bg-green-500 text-white': page === currentPage, 'bg-white': page !== currentPage}">
                    {{ page }}
                </button>

                <!-- Tombol Next -->
                <button 
                    class="mx-2 px-4 py-2 rounded " 
                    @click="changePage(currentPage + 1)" 
                    :disabled="currentPage === totalPages"
                    :class="{'cursor-not-allowed opacity-50': currentPage === totalPages}">
                    >
                </button>
                        </div>

        </div>
    </main>
</template>

<style scoped>
.sport .category {
    border-left: 4px solid yellow ;
}
.politics .category {
    border-left: 4px solid blue;
}
.business .category {
    border-left: 4px solid gray;
}
</style>
